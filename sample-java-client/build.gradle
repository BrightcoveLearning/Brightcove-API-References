apply plugin: 'java'

repositories {
    mavenCentral()
    flatDir {
        dirs '/Users/sperman/work/swagger/codegen/java-gen/build/libs'
    }
}

dependencies {
    compile name: 'BrightcoveCmsApi-1.0.0'
    compile 'io.swagger:swagger-annotations:1.5.15'
    compile 'com.squareup.okhttp:okhttp:2.7.5'
    compile 'com.squareup.okhttp:logging-interceptor:2.7.5'
    compile 'com.google.code.gson:gson:2.8.1'
    compile 'io.gsonfire:gson-fire:1.8.0'
    compile 'org.threeten:threetenbp:1.3.5'
}

task(run, dependsOn: 'build', type: JavaExec) {
    main = 'SdkClient'
    classpath = sourceSets.main.runtimeClasspath
    args 'qa.properties'
}

jar {
    from {
        (configurations.runtime).collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
    manifest {
        attributes 'Main-Class': 'SdkClient'
    }
}
